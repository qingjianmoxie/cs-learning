# 内存的分类

程序在运行时内存分为如下几块：

+ 栈：分配局部变量空间，存储临时变量，由操作系统分配回收。

+ 堆：由程序员手动通过malloc/new分配，操作系统可能不会回收需要手动释放，否则会造成内存泄漏，malloc/free与new/delete要成对出现。

+ 常量区：存放常量，比如字符串常量。

+ 全局区（静态区）(static)：全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域，该区域在程序结束后由操作系统释放。

+ 代码区：由操作系统分配，对程序员来说是透明的，无法访问。

```c++
#include <stdio.h>
int a = 0; //全局区
int main()
{
    int b;                   //栈
    char s[] = "abc";        //栈
    char *p2;                //栈
    char *p3 = "123456";     //123456在常量区，p3在栈上。
    p2 = (char *)malloc(20); //堆
    static int c = 0；       //全局（静态)区
    return 0;
}
```
