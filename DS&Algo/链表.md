# 链表

## 1 线性表简介

线性表是一种线性结构，它是由零个或多个数据元素构成的**有限序列**。线性表的特征是在一个序列中，除了头尾元素，每个元素都有且只有一个直接前驱，有且只有一个直接后继，而序列头元素没有直接前驱，序列尾元素没有直接后继。
数据结构中常见的线性结构有数组、单链表、双链表、循环链表等。线性表中的元素为某种**相同**的抽象数据类型。可以是C语言的内置类型或结构体，也可以是C++自定义类型。

## 2 数组

数组在实际的物理内存上也是连续存储的，数组有上界和下界。C语言中定义一个数组：

                数组示例
        int a[7] = {1,2,3,4,5,6,7}
       +---+---+---+---+---+---+---+
       | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
       +---+---+---+---+---+---+---+
    a   [0] [1] [2] [3] [4] [5] [6]

数组下标是从0开始的，a[0]对应第一个元素。其中，a[0]称为数组a的下界，a[6]称为数组a的上届。超过这个范围的下标使用数组，将造成**数组越界错误**。
数组的特点是：**数据连续，支持快速随机访问**。
数组分为固定数组与动态数组。其中固定数组的大小必须在编译时就能够确认，动态数组允许在运行时申请数组内存。复杂点的数组是多维数组，多维数组实际上也是通过一维数组来实现的。在C语言中，可以通过malloc来分配动态数组，C++使用new。另外，C++的标准模板库提供了动态数组类型vector以及内置有固定数组类型array。

## 3 单向链表

单向链表是链表的一种。链表由节点所构成，节点内含一个指向下一个节点的指针，节点依次链接成为链表。因此，链表这种数据结构通常在物理内存上是不连续的。链表的通常含有一个头节点，头节点不存放实际的值，它含有一个指针，指向存放元素的第一个节点。

                单链表示例
    ┌──────┐   ┌───┐   ┌───┐   ┌───┐   ┌───┐   ┌───┐   ┌───┐
    | head |-->| 1 |-->| 2 |-->| 3 |-->| 4 |-->| 5 |-->| 6 |
    └──────┘   └───┘   └───┘   └───┘   └───┘   └───┘   └───┘
    --> 指针, 指向下一个节点

[单向链表结构](./src/single_linked_list/single_linked_list.h)
[单向链表测试代码](./src/single_linked_list/single_linked_list.cc)

测试结果：

    10
    1111
    0
    1
    2
    3
    4
    5
    6
    7
    8
    9
    2222

其他的操作较为简单，不在这里贴出代码，文章底部有完整链表类的代码链接。

## 4 双向链表

单链表的节点链接是单方向的，要得到指定节点的前一个节点，必须从头遍历链表。
双向链表是链表的一种。与单链表一样，双向节点由节点链接而成，每个节点含有两个指针，分别指向直接前驱与直接后继。从双向链表的任何一个节点开始都能够遍历整个链表。
我们将双向链表实现为双向循环链表，也即是最后一个元素的后继将指向头节点，整个链表形成一个循环
例如，我们为元素1，2，3，4，5 构建一个双向循环链表

                   双向循环链表示例
    ┌────────────────────────────────────────────────────┐
    |                                                    |
    └─>┌──────┐──>┌───┐──>┌───┐──>┌───┐──>┌───┐──>┌───┐──┘
       | head |   | 1 |   | 2 |   | 3 |   | 4 |   | 5 |
    ┌──└──────┘<──└───┘<──└───┘<──└───┘<──└───┘<──└───┘<─┐
    |                                                    |
    └────────────────────────────────────────────────────┘

在图中：
表头为空。
表头的前驱节点是节点5，表头的后继节点是节点1；
节点1的前驱节点是表头，节点1的后继节点是节点2；
节点2的前驱节点是节点1，节点2的后继节点是节点3；
...

[双向链表数据结构](./src/double_linked_list/double_linked_list.h)
[双向链表测试代码](./src/double_linked_list/double_linked_list.cc)

测试结果：

    链表长度:12
    19
    18
    17
    15
    14
    13
    12
    11
    10

另外声明：

1. C++模板不支持分离编译，因此类定义与成员函数的实现都在.h文件中完成；
2. 可以看到代码中new一个新节点之后，并没有使用(prt!=nullptr)来检查内存分配是否成功，这是因为new失败时直接抛出异常，不同于C语言malloc内存分配失败返回NULL。
